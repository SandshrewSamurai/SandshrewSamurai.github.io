<!DOCTYPE html>
<html>
    <head>  
        <meta charset="UTF-8">
        <title>PKMN-TEAM-DISPLAY</title>
      
        <!--- JQuery --->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      
        <script src="js/p5.js" type="text/javascript"></script>
        <script src="js/p5.dom.js" type="text/javascript"></script>
        <!---<script src="js/p5.sound.js" type="text/javascript"></script>--->
        <script src="sketch.js" type="text/javascript"></script>
    </head>
      
  <body id="page-top">
        
      
      <div id="sketch-holder">
          <!-- Our sketch will go here! -->
      </div>
      
        <!-- PKMN TEAM Display UI -->    

                 <div class="col-sm-2"><p class="mb-0 text-white-50">Pokémon 1</p></div>
                 <div class="col-sm-3"><select id="pokemon-dropdown-0" name="pokemon-1"></select></div>

            

                <div class="col-sm-2"><p class="mb-0 text-white-50">Pokémon 2</p></div>
                 <div class="col-sm-8"><select id="pokemon-dropdown-1" name="pokemon-2"></select></div>

           

                <div class="col-sm-2"><p class="mb-0 text-white-50">Pokémon 3</p></div>
                 <div class="col-sm-8"><select id="pokemon-dropdown-2" name="pokemon-3"></select></div>

           

                <div class="col-sm-2"><p class="mb-0 text-white-50">Pokémon 4</p></div>
                 <div class="col-sm-8"><select id="pokemon-dropdown-3" name="pokemon-4"></select></div>

          

                <div class="col-sm-2"><p class="mb-0 text-white-50">Pokémon 5</p></div>
                 <div class="col-sm-8"><select id="pokemon-dropdown-4" name="pokemon-5"></select></div>

         

                <div class="col-sm-2"><p class="mb-0 text-white-50">Pokémon 6</p></div>
                 <div class="col-sm-8"><select id="pokemon-dropdown-5" name="pokemon-6"></select></div>

      <br>

                <div class="col-sm-2"><input type="submit" class="btn btn-primary mx-auto" value="Submit" onclick="updateTeam()"></div>
                
        <script>
            
            for(let i = 0; i < 6; i++){
                fillDropdown(i);
            }
            
            function fillDropdown(i){
                const url = 'Dex.json';

                const request = new XMLHttpRequest();
                request.open('GET', url, true);

                let dropdown = document.getElementById('pokemon-dropdown-' + i);
                dropdown.length = 0;

                let defaultOption = document.createElement('option');
                defaultOption.text = 'Choose Pokémon';

                dropdown.add(defaultOption);
                dropdown.selectedIndex = 0;

                request.onload = function() {
                    if (request.status === 200) {
                        const data = JSON.parse(request.responseText);
                        let option;
                        for (let i = 0; i < data.length; i++) {
                            option = document.createElement('option');
                            option.text = data[i].Name;
                            option.value = data[i].Nat;
                            dropdown.add(option);
                        }
                    } else {
                   // Reached the server, but it returned an error
                    }   
                }

                request.onerror = function() {
                    console.error('An error occurred fetching the JSON from ' + url);
                };

                request.send();
            }
        </script>

            <!-- Donation -->
            <!--
			  <h2>Support Me</h2>
			  <a href="https://www.paypal.me/sandshrew"><button  class="btn btn-primary mx-auto" role="button">Donate</button></a>
        -->

    <!-- Footer -->
      <!--
    <footer>
        Copyright &copy; SandshrewSamurai 2020
    </footer>
      -->
  </body>
</html>